<div
	class="w-full h-full fixed inset-0 z-50 flex items-center justify-center p-4 md:p-6 lg:p-8 bg-black/50 backdrop-blur-xs"
	(click)="onBackdropClick($event)"
	aria-modal="true"
	aria-labelledby="dialog-title"
	aria-describedby="dialog-description">
	<div
		class="w-full md:w-[90%] lg:w-[80%] max-w-full md:max-w-3xl lg:max-w-5xl max-h-[85%] md:max-h-[90%] rounded-xl lg:rounded-2xl shadow-2xl flex flex-col overflow-hidden animate-in fade-in-0 zoom-in-95 duration-300">
		<!-- Dialog Header -->
		<header class="flex items-center justify-between px-4 md:px-6 lg:px-8 py-2 md:py-3 lg:py-4 bg-gradient-to-r triad-gradient text-white">
			<h2 id="dialog-title" class="text-lg md:text-2xl lg:text-3xl font-bold leading-tight">How to Play Triads</h2>
			<button
				class="p-2 md:p-3 rounded-lg hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-white/50 transition-colors cursor-pointer"
				(click)="onClose()"
				aria-label="Close dialog"
				type="button">
				<svg class="w-5 h-5 md:w-6 md:h-6 lg:w-7 lg:h-7" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
					<line x1="18" y1="6" x2="6" y2="18"></line>
					<line x1="6" y1="6" x2="18" y2="18"></line>
				</svg>
			</button>
		</header>

		<!-- Dialog Body -->
		<div id="dialog-description" class="flex-1 leading-relaxed overflow-y-auto bg-base-100 grid gap-4 md:grid-cols-2 md:gap-6 lg:gap-8 p-4 md:p-6 lg:p-8">
			<!-- Triads Play Section -->
			<section class="space-y-4">
				<h3 class="text-base md:text-lg lg:text-xl font-semibold text-gray-900 border-b-2 border-gray-200 pb-2">Triads Play</h3>
				<div class="space-y-3 text-sm md:text-base">
					<p>
						You‚Äôre given 9 bubbles that contain words or phrases called ‚Äúcues.‚Äù Find 3 that share a common key word, to form a 3-word Triad. A key
						is a stand-alone word uniquely shared by the 3 cues.
					</p>
					<div class="bg-neutral-300 p-4 md:p-5 lg:p-6 rounded-lg">
						<p class="mb-2 text-center">
							Here's an example. The key word is <span class="font-bold">HAND</span> completing <span class="font-bold">SECOND-HAND</span>,
							<span class="font-bold">POKER HAND</span>, and <span class="font-bold">HANDSHAKE</span>.
						</p>
					</div>
					<p>
						Once you've solved all 3 Triads, or "cleared the board," the 3 key words become your final Triad to solve. That's your goal: figure out
						all four of the Triads, and win the game.
						<br />
						<br />
						Cues can be compound or hyphenated words or phrases, and sometimes even famous names, places, or everyday phrases. Keys (solutions) are
						always one word. Some are easy, some not. Take your time.
					</p>
				</div>
			</section>

			<!-- Scoring Section -->
			<section class="space-y-4">
				<h3 class="text-base md:text-lg lg:text-xl font-semibold text-gray-900 border-b-2 border-gray-200 pb-2">Scoring</h3>
				<div class="space-y-3 text-sm md:text-base">
					<p>Every game is scored, tallied, and averaged for you, using this scoring system.</p>
					<div class="overflow-x-auto border border-gray-200 rounded-lg">
						<table class="w-full text-sm md:text-base">
							<thead class="bg-gradient-to-r triad-gradient text-white">
								<tr>
									<th class="px-4 py-3 md:px-5 lg:px-6 text-left font-semibold">Outcome</th>
									<th class="px-4 py-3 md:px-5 lg:px-6 text-center font-semibold">Points</th>
								</tr>
							</thead>
							<tbody class="divide-y divide-gray-100">
								@for (row of scoringData; track row.outcome) {
									<tr class="hover:bg-gray-50">
										<td class="px-4 py-3 md:px-5 lg:px-6">{{ row.outcome }}</td>
										<td class="px-4 py-3 md:px-5 lg:px-6 text-center font-semibold text-green-600 md:text-lg">{{ row.points }}</td>
									</tr>
								}
							</tbody>
						</table>
					</div>
				</div>
			</section>

			<!-- Hints and Misses Section -->
			<section class="space-y-4">
				<h3 class="text-base md:text-lg lg:text-xl font-semibold text-gray-900 border-b-2 border-gray-200 pb-2">Hints and Misses</h3>
				<div class="space-y-3 text-sm md:text-base">
					<p>
						You have three guesses and two hints, any combination. Miss a guess, lose a turn. Take a hint, lose a turn. When 9 or 6 cues are
						showing, a hint highlights a Triad for you and shows how many letters are in the key. When only 3 cues remain, a hint also shows the
						key‚Äôs first letter.
					</p>
					<!--TODO: replace the character used for the turn button here-->
					<p><span class="text-red-600 font-bold">‚ñ≥</span> = Turns remaining</p>
					<p><span class="text-blue-600">üõü</span> = Get a hint</p>
				</div>
			</section>

			<!-- Your Account Section -->
			<section class="space-y-4">
				<h3 class="text-base md:text-lg lg:text-xl font-semibold text-gray-900 border-b-2 border-gray-200 pb-2">Your Account</h3>
				<div class="space-y-3 text-sm md:text-base">
					<p>
						Triads has no enrollment, so you never need to login or reveal anything about yourself. You‚Äôre given a silly name on your first visit
						(you can change it), and that ‚Äòcookie‚Äô tracks your wins and losses. You can see your overall, ongoing success rate by clicking your
						name.
					</p>
				</div>
			</section>

			<!-- Submissions Section -->
			<section class="space-y-4">
				<h3 class="text-base md:text-lg lg:text-xl font-semibold text-gray-900 border-b-2 border-gray-200 pb-2">Submissions</h3>
				<div class="space-y-3 text-sm md:text-base">
					<p>
						Be a part of Triads! We welcome your contributions to add to our database, so get creative. Send to: Be a part of Triads! We welcome
						your contributions to add to our database, so get creative. Send to:
						<a
							href="mailto:ideas&#64;gametrix.com"
							class="text-blue-600 hover:text-blue-800 hover:underline focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded transition-colors">
							ideas&#64;gametrix.com
						</a>
					</p>
					<p>
						We also appreciate your suggestions for improving the game. This includes your thoughts about Triads you found too easy, too difficult,
						or too wacko. We‚Äôre listening. Let‚Äôs make Triads fun for everyone!
					</p>
				</div>
			</section>
		</div>
	</div>
</div>
