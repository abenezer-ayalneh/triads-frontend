<div class="w-full h-full flex flex-col justify-center items-center">
	<div
		class="w-full h-fit flex-col justify-center items-center px-4 md:px-6 lg:px-8 py-2"
		[class]="{ flex: store.gamePlayState() === GamePlayState.CHECK_SOLUTION, hidden: store.gamePlayState() !== GamePlayState.CHECK_SOLUTION }">
		<button
			type="button"
			(click)="checkTriad()"
			[disabled]="store.isCheckingTriad()"
			class="w-80 md:w-96 lg:w-[28rem] triad-gradient btn btn-lg max-lg:btn-sm border-none text-primary-content disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2">
			@if (store.isCheckingTriad()) {
				<span class="loading loading-spinner loading-sm landscape:loading-xs"></span>
				<span>Checking...</span>
			} @else {
				<span>Check Solution</span>
			}
		</button>
	</div>

	<div
		class="w-full h-full md:h-full flex-col justify-center items-center px-4 md:px-6 lg:px-8 py-1 gap-2"
		[class]="{
			flex: store.gamePlayState() === GamePlayState.ACCEPT_ANSWER || store.gamePlayState() === GamePlayState.WRONG_ANSWER,
			hidden: store.gamePlayState() !== GamePlayState.ACCEPT_ANSWER && store.gamePlayState() !== GamePlayState.WRONG_ANSWER,
		}">
		<div class="w-full h-full flex justify-center items-center gap-2">
			@let letKeywordLengthHint = store.keywordLengthHint();
			@let isLoading = store.isCheckingAnswer() || store.isCheckingTriad();
			@if (letKeywordLengthHint !== null) {
				<app-input-set
					[quantity]="letKeywordLengthHint"
					[firstLetter]="store.firstLetterHint()"
					[isLoading]="isLoading"
					(whenSubmitClicked)="submitAnswer($event)" />
			} @else {
				<input
					#answerField
					[formControl]="answerFormControl"
					placeholder="Answer here..."
					(keydown.enter)="submitAnswer(answerFormControl.value)"
					appAutoCapitalize
					class="flex-1 h-full input text-base focus:outline-none text-center placeholder:text-neutral-400 disabled:text-neutral-400 disabled:placeholder:text-neutral-400 disabled:cursor-not-allowed" />
				<button
					type="button"
					(click)="submitAnswer(answerFormControl.value)"
					[disabled]="!answerFormControl.valid || isLoading"
					aria-label="Submit answer"
					class="h-full px-4 md:px-6 rounded-full triad-gradient text-primary-content font-semibold shadow-lg hover:shadow-xl active:scale-95 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2">
					@if (store.isCheckingAnswer()) {
						<span class="loading loading-spinner loading-sm"></span>
						<span class="hidden sm:inline text-sm md:text-base">Checking...</span>
					} @else {
						<svg class="w-4 h-4 md:w-5 md:h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
							<path stroke-linecap="round" stroke-linejoin="round" d="M13 7l5 5-5 5M19 12H5" />
						</svg>
						<span class="hidden sm:inline text-sm md:text-base">Submit</span>
					}
				</button>
			}
		</div>
	</div>
</div>
